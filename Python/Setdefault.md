# setdefault 함수

`setdefault`는 딕셔너리를 다룰 때 유용한 함수.

한마디로 **"있으면 가져오고, 없으면 새로 만들어서 가져와!"**라고 요약할 수 있죠. 

딕셔너리에 데이터를 추가할 때, 매번 키가 있는지 없는지 확인하는 번거로움을 깔끔하게 해결해 줍니다.

---

## `setdefault`가 왜 필요할까요?

예를 들어, 반별로 학생들 이름을 정리하는 딕셔너리를 만든다고 상상해 보세요.

`students = {}`

여기에 'A반'에 '철수'를 추가하려면, 'A반'이라는 키가 `students` 딕셔너리에 아직 없을 수도 있습니다. 그래서 보통 이렇게 `if`문으로 키가 있는지 먼저 확인해야 합니다.

### `setdefault`를 안 쓰는 경우 (조금 번거로운 방법)

```python
students = {}

# 'A반'에 '철수' 추가하기
if 'A반' not in students:
    students['A반'] = []  # 'A반' 키가 없으면, 빈 리스트를 새로 만들어준다.
students['A반'].append('철수')

# 'B반'에 '영희' 추가하기
if 'B반' not in students:
    students['B반'] = []  # 'B반' 키가 없으면, 또 빈 리스트를 새로 만들어준다.
students['B반'].append('영희')

# 'A반'에 '민수' 추가하기
if 'A반' not in students:
    # 'A반'은 이미 있으니 이 코드는 실행되지 않음
    students['A반'] = []
students['A반'].append('민수')


print(students)
# 출력 결과: {'A반': ['철수', '민수'], 'B반': ['영희']}
```

학생을 추가할 때마다 `if`문으로 키가 있는지 검사하고, 없으면 빈 리스트를 만들어주는 코드를 계속 반복해야 해서 좀 불편합니다.

---

## `setdefault` 사용하기

이제 똑똑한 비서 `setdefault`를 고용해 봅시다!

`setdefault`는 두 가지 일을 한 번에 처리합니다.

1.  **딕셔너리에서 키를 찾아봅니다.**
2.  **결과에 따라 행동합니다.**
    * **키가 있으면:** 해당 키의 **값을 반환**합니다. (그냥 가져다줌)
    * **키가 없으면:** **기본값(default)으로 새 키-값 쌍을 만들고**, 그 **새로운 값을 반환**합니다. (없으니까 새로 만들어서 가져다줌)

`my_dict.setdefault(key, default_value)` 형식으로 사용해요.

### `setdefault`를 사용한 코드

```python
students = {}

# 'A반' 키를 찾고, 없으면 빈 리스트 []를 기본값으로 설정한 뒤, 그 리스트를 가져와 '철수'를 추가
students.setdefault('A반', []).append('철수')

# 'B반' 키를 찾고, 없으면 빈 리스트 []를 기본값으로 설정한 뒤, 그 리스트를 가져와 '영희'를 추가
students.setdefault('B반', []).append('영희')

# 'A반' 키를 찾고, (이미 있으니) 기존 리스트를 가져와 '민수'를 추가
students.setdefault('A반', []).append('민수')

print(students)
# 출력 결과: {'A반': ['철수', '민수'], 'B반': ['영희']}
```

`students.setdefault('A반', [])` 코드가 실행되면,
* **첫 번째 실행:** `students`에 'A반'이 없으므로 `{'A반': []}`를 만들고, `[]`를 반환합니다. 그 뒤에 `.append('철수')`가 실행됩니다.
* **두 번째 실행:** `students`에 'A반'이 이미 있으므로, 값인 `['철수']`를 반환합니다. 그 뒤에 `.append('민수')`가 실행됩니다.

---

## 📋 최종 정리

| 구분     | `if`문 사용                                                                                  | `setdefault` 사용                                     |
| :------- | :------------------------------------------------------------------------------------------- | :---------------------------------------------------- |
| **코드** | `if key not in my_dict:`<br/> `    my_dict[key] = []`<br/>`my_dict[key].append(value)` | `my_dict.setdefault(key, []).append(value)`         |
| **의미** | "키가 없으면 새로 만들고, 값을 넣어줘"                                                       | "키를 찾아서 값을 가져와줘. 없으면 만들어서라도!"     |
| **장점** | 동작 방식이 명확하게 보임                                                                    | 코드가 간결하고 세련됨, 실무에서 자주 사용            |
